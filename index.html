<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Programmbeschwerde – Eisenbahn-Romantik muss bleiben</title>
  <style>
    :root{ --bg:#0b0f14; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --brand:#22c55e; --brandHover:#16a34a; }
    html,body{height:100%}
    body{
      margin:0; background:#0b0f14; color:#e5e7eb;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      display:grid; place-items:center; min-height:100vh; padding:24px;
      background:radial-gradient(1200px 800px at 80% -20%, #1f2937 0%, var(--bg) 50%);
    }
    .card{max-width:720px;width:100%;background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,.35); padding:28px 24px}
    h1{margin:0 0 8px;font-size:clamp(22px,3.2vw,34px);line-height:1.15}
    p{margin:8px 0 0;color:#9ca3af}
    .cta{margin-top:22px;display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:0;border-radius:12px;padding:14px 18px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--brand);color:#0a0a0a}
    .btn-primary:hover{background:var(--brandHover)}
    .btn-ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.18)}
  </style>
</head>
<body>
  <main class="card">
    <h1>Programmbeschwerde – Eisenbahn-Romantik muss bleiben</h1>
    <p>Mit einem Klick öffnet sich dein E-Mail-Programm mit Empfänger, Betreff und vorbereitetem Text. Du kannst den Text vor dem Senden anpassen.</p>

    <div class="cta">
      <button id="sendBtn" class="btn btn-primary">E-Mail öffnen</button>
      <button id="copyBtn" class="btn btn-ghost">Text in Zwischenablage</button>
    </div>

    <p class="small">Es öffnet sich eine neue E-Mail an <code>Gremiengeschaeftsstelle@SWR.de</code>.</p>
  </main>

  <script>
    // Zeilen stabil mit CRLF verbinden
    const crlf = lines => lines.join('\r\n');

    // unsichtbares Steuerzeichen vor dem Bullet + geschütztes Leerzeichen danach
    const WJ   = '\u2060';  // word-joiner verhindert Listen-Autoformatierung
    const NBSP = '\u00A0';  // geschütztes Leerzeichen
    const BULLET = WJ + '•' + NBSP;

    const to = "Gremiengeschaeftsstelle@SWR.de";
    const subject = "Programmbeschwerde gemäß § 11 SWR-Staatsvertrag";

    const body = crlf([
      "Sehr geehrte Damen und Herren des SWR-Rundfunkrats,",
      "",
      "hiermit lege ich Programmbeschwerde gegen die geplante Einstellung der SWR-Sendung Eisenbahn-Romantik ein und bitte Sie, sich für den Erhalt der Sendereihe und der Redaktion einzusetzen.",
      "Dieses Format vereint Kultur, Technik, Geschichte und Reisen und erfüllt den öffentlich-rechtlichen Auftrag auf besondere Weise. Es wird nicht nur im Fernsehen, sondern auch über die ARD-Mediathek und den YouTube-Kanal von Eisenbahn-Romantik vielfach genutzt und ist damit ein deutlicher Beleg für seine anhaltende Relevanz.",
      "Ich bitte um eine schriftliche Begründung,",
      BULLET + "nach welchen Kriterien beim SWR über die Beibehaltung oder Absetzung von Sendungen entschieden wird,",
      BULLET + "wie die Zuschauerresonanz und Reichweite über alle Ausspielwege – also Fernsehen, Mediathek und Online-Kanäle – in diese Abwägung eingeflossen sind,",
      BULLET + "warum ausgerechnet dieses beliebte und kulturell wertvolle Format eingestellt werden soll,",
      BULLET + "und was der Rundfunkrat konkret unternimmt, damit diese erfolgreiche Sendung künftig weiter produziert werden kann.",
      "",
      "Mit freundlichen Grüßen",
      "ein Eisenbahn-Romantik-Fan"
    ]);

    const mailto = `mailto:${to}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

    // Mail EINMAL öffnen (Debounce)
    const sendBtn = document.getElementById('sendBtn');
    let busy = false;
    sendBtn.addEventListener('click', () => {
      if (busy) return;
      busy = true;
      window.location.href = mailto;
      sendBtn.disabled = true;
      setTimeout(() => { busy = false; sendBtn.disabled = false; }, 1200);
    });

    // Kopieren (ohne unsichtbare Steuerzeichen)
    const copyBtn = document.getElementById('copyBtn');
    copyBtn.addEventListener('click', async () => {
      try {
        const plain = body.replaceAll(WJ, '').replaceAll(NBSP, ' ');
        await navigator.clipboard.writeText(plain);
        copyBtn.textContent = 'Text kopiert ✔';
        setTimeout(() => copyBtn.textContent = 'Text in Zwischenablage', 1600);
      } catch {
        alert('Kopieren nicht erlaubt – bitte manuell markieren und kopieren.');
      }
    });
  </script>
</body>
</html>
